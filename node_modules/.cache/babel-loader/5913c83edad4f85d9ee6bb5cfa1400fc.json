{"ast":null,"code":"import _Reflect$construct from \"@babel/runtime-corejs2/core-js/reflect/construct\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? _Reflect$construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(_Reflect$construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nimport React, { Component } from 'react';\nimport { Button, Form, Grid, Header, Image, Message, Segment } from 'semantic-ui-react';\nimport Cookies from 'js-cookie';\nimport { Router } from '../routes';\nimport { Helmet } from 'react-helmet';\nvar LoginForm = /*#__PURE__*/function (_Component) {\n  function LoginForm() {\n    var _this;\n    _classCallCheck(this, LoginForm);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, LoginForm, [].concat(args));\n    _defineProperty(_this, \"state\", {\n      election_address: ''\n    });\n    _defineProperty(_this, \"LoginForm\", function () {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"login-form\"\n      }, /*#__PURE__*/React.createElement(\"style\", {\n        JSX: true\n      }, \"\\n                .login-form {\\n                    width:100vh;\\n                    height:100vh\\n                    position:absolute;\\n                    background: url('/static/voters-login.png') no-repeat;\\n                } \\n              \"), /*#__PURE__*/React.createElement(Grid, {\n        textAlign: \"center\",\n        style: {\n          height: '100%'\n        },\n        verticalAlign: \"middle\"\n      }, /*#__PURE__*/React.createElement(Grid.Column, {\n        style: {\n          maxWidth: 380\n        }\n      }, /*#__PURE__*/React.createElement(Form, {\n        size: \"large\"\n      }, /*#__PURE__*/React.createElement(Segment, null, /*#__PURE__*/React.createElement(Header, {\n        as: \"h2\",\n        color: \"black\",\n        textAlign: \"center\",\n        style: {\n          marginTop: 10\n        }\n      }, \"Login\"), /*#__PURE__*/React.createElement(Form.Input, {\n        fluid: true,\n        icon: \"user\",\n        iconPosition: \"left\",\n        placeholder: \"Email\",\n        style: {\n          padding: 5\n        },\n        id: \"signin_email\"\n      }), /*#__PURE__*/React.createElement(Form.Input, {\n        style: {\n          padding: 5\n        },\n        fluid: true,\n        id: \"signin_password\",\n        icon: \"lock\",\n        iconPosition: \"left\",\n        placeholder: \"Password\",\n        type: \"password\"\n      }), /*#__PURE__*/React.createElement(Button, {\n        color: \"blue\",\n        fluid: true,\n        size: \"large\",\n        style: {\n          marginBottom: 15\n        },\n        onClick: _this.signin\n      }, \"Submit\"))))));\n    });\n    _defineProperty(_this, \"signin\", function (event) {\n      var email = document.getElementById('signin_email').value;\n      var password = document.getElementById('signin_password').value;\n      var http = new XMLHttpRequest();\n      var url = 'voter/authenticate';\n      var params = 'email=' + email + '&password=' + password;\n      http.open('POST', url, true);\n      //Send the proper header information along with the request\n      http.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n      http.onreadystatechange = function () {\n        //Call a function when the state changes.\n        if (http.readyState == 4 && http.status == 200) {\n          var responseObj = JSON.parse(http.responseText);\n          if (responseObj.status == 'success') {\n            Cookies.set('voter_email', encodeURI(email));\n            Cookies.set('address', encodeURI(responseObj.data.election_address));\n            Router.pushRoute(\"/election/\".concat(responseObj.data.election_address, \"/vote\"));\n          } else {\n            alert(responseObj.message);\n          }\n        }\n      };\n      http.send(params);\n    });\n    return _this;\n  }\n  _inherits(LoginForm, _Component);\n  return _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\"\n      }), /*#__PURE__*/React.createElement(Helmet, null, /*#__PURE__*/React.createElement(\"title\", null, \"Voter login\"), /*#__PURE__*/React.createElement(\"link\", {\n        rel: \"shortcut icon\",\n        type: \"image/x-icon\",\n        href: \"../../static/logo3.png\"\n      })), this.LoginForm());\n    }\n  }]);\n}(Component);\nexport default LoginForm;","map":{"version":3,"names":["React","Component","Button","Form","Grid","Header","Image","Message","Segment","Cookies","Router","Helmet","LoginForm","_Component","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_callSuper","concat","_defineProperty","election_address","createElement","className","JSX","textAlign","style","height","verticalAlign","Column","maxWidth","size","as","color","marginTop","Input","fluid","icon","iconPosition","placeholder","padding","id","type","marginBottom","onClick","signin","event","email","document","getElementById","value","password","http","XMLHttpRequest","url","params","open","setRequestHeader","onreadystatechange","readyState","status","responseObj","JSON","parse","responseText","set","encodeURI","data","pushRoute","alert","message","send","_inherits","_createClass","key","render","rel","href"],"sources":["C:/Users/Sathyajothi/Desktop/BlockChainVoting/pages/voter_login.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { Button, Form, Grid, Header, Image, Message, Segment } from 'semantic-ui-react';\r\nimport Cookies from 'js-cookie';\r\nimport { Router } from '../routes';\r\nimport { Helmet } from 'react-helmet';\r\n\r\nclass LoginForm extends Component {\r\n\tstate = {\r\n\t\telection_address: '',\r\n\t};\r\n\r\n\tLoginForm = () => (\r\n\t\t<div className=\"login-form\">\r\n\t\t\t<style JSX>{`\r\n                .login-form {\r\n                    width:100vh;\r\n                    height:100vh\r\n                    position:absolute;\r\n                    background: url('/static/voters-login.png') no-repeat;\r\n                } \r\n              `}</style>\r\n\r\n\t\t\t<Grid textAlign=\"center\" style={{ height: '100%' }} verticalAlign=\"middle\">\r\n\t\t\t\t<Grid.Column style={{ maxWidth: 380 }}>\r\n\t\t\t\t\t<Form size=\"large\">\r\n\t\t\t\t\t\t<Segment>\r\n\t\t\t\t\t\t\t<Header as=\"h2\" color=\"black\" textAlign=\"center\" style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t</Header>\r\n\t\t\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\ticon=\"user\"\r\n\t\t\t\t\t\t\t\ticonPosition=\"left\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\t\t\t\tstyle={{ padding: 5 }}\r\n\t\t\t\t\t\t\t\tid=\"signin_email\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Form.Input\r\n\t\t\t\t\t\t\t\tstyle={{ padding: 5 }}\r\n\t\t\t\t\t\t\t\tfluid\r\n\t\t\t\t\t\t\t\tid=\"signin_password\"\r\n\t\t\t\t\t\t\t\ticon=\"lock\"\r\n\t\t\t\t\t\t\t\ticonPosition=\"left\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<Button color=\"blue\" fluid size=\"large\" style={{ marginBottom: 15 }} onClick={this.signin}>\r\n\t\t\t\t\t\t\t\tSubmit\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Segment>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Grid.Column>\r\n\t\t\t</Grid>\r\n\t\t</div>\r\n\t);\r\n\tsignin = event => {\r\n\t\tconst email = document.getElementById('signin_email').value;\r\n\t\tconst password = document.getElementById('signin_password').value;\r\n\t\tvar http = new XMLHttpRequest();\r\n\t\tvar url = 'voter/authenticate';\r\n\t\tvar params = 'email=' + email + '&password=' + password;\r\n\t\thttp.open('POST', url, true);\r\n\t\t//Send the proper header information along with the request\r\n\t\thttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\r\n\t\thttp.onreadystatechange = function () {\r\n\t\t\t//Call a function when the state changes.\r\n\t\t\tif (http.readyState == 4 && http.status == 200) {\r\n\t\t\t\tvar responseObj = JSON.parse(http.responseText);\r\n\t\t\t\tif (responseObj.status == 'success') {\r\n\t\t\t\t\tCookies.set('voter_email', encodeURI(email));\r\n\t\t\t\t\tCookies.set('address', encodeURI(responseObj.data.election_address));\r\n\t\t\t\t\tRouter.pushRoute(`/election/${responseObj.data.election_address}/vote`);\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(responseObj.message);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\thttp.send(params);\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<link rel=\"stylesheet\" href=\"//cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css\" />\r\n\t\t\t\t<Helmet>\r\n\t\t\t\t\t<title>Voter login</title>\r\n\t\t\t\t\t<link rel=\"shortcut icon\" type=\"image/x-icon\" href=\"../../static/logo3.png\" />\r\n\t\t\t\t</Helmet>\r\n\t\t\t\t{this.LoginForm()}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default LoginForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}